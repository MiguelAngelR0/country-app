import{A as r,B as s,C as me,D as b,E as w,F as ee,G as a,H as y,I as F,J as L,K as pe,L as A,M as V,O as te,P as de,Q as ye,R as O,T as fe,W as ge,X as Ce,Y as z,Z as ve,a as oe,b as re,c as B,d as N,e as P,f as q,g as ie,h as ae,i as p,j as ce,k as X,l as Z,m as g,n as v,o as se,p as h,q as k,r as j,s as c,t as l,u as S,v as m,w as d,x as le,y as ue,z as o}from"./chunk-QMLA3TY2.js";function T(n){return n?.injector||ce(T),de(re(oe({},n),{loader:void 0,stream:t=>{let e,i=()=>e.unsubscribe();t.abortSignal.addEventListener("abort",i);let u=k({value:void 0}),f,I=new Promise(R=>f=R);function W(R){u.set(R),f?.(u),f=void 0}return e=n.loader(t).subscribe({next:R=>W({value:R}),error:R=>W({error:R}),complete:()=>{f&&W({error:new Error("Resource completed before producing a value")}),t.abortSignal.removeEventListener("abort",i)}}),I}}))}var M=class n{placeholder=h("Search");value=se();static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["country-search-input"]],inputs:{placeholder:[1,"placeholder"]},outputs:{value:"value"},decls:5,vars:1,consts:[["txtSearch",""],[1,"flex","flex-row","gap-2","mt-2"],["type","text","autofocus","",1,"input","input-border","mr-2","w-56",3,"keyup.enter","placeholder"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){if(e&1){let u=me();o(0,"section",1)(1,"input",2,0),b("keyup.enter",function(){X(u);let I=ee(2);return Z(i.value.emit(I.value))}),r(),o(3,"button",3),b("click",function(){X(u);let I=ee(2);return Z(i.value.emit(I.value))}),a(4," Search "),r()()}e&2&&(c(),m("placeholder",i.placeholder()))},encapsulation:2})};var he=n=>["/country/by",n],be=(n,t)=>t.cca2;function xe(n,t){if(n&1&&(o(0,"tr")(1,"td"),a(2),r(),o(3,"td"),a(4),r(),o(5,"td"),s(6,"img",2),r(),o(7,"td"),a(8),r(),o(9,"td"),a(10),r(),o(11,"td")(12,"span",3),a(13),A(14,"number"),r()(),o(15,"td")(16,"a",4),a(17,"More information"),r()()()),n&2){let e=t.$implicit,i=t.$index;c(2),y(i+1),c(2),F(" ",e.flag,""),c(2),m("src",e.flagSvg,j)("alt",e.name),c(2),y(e.name),c(2),y(e.capital),c(3),F(" ",V(14,8,e.population)," "),c(3),m("routerLink",pe(10,he,e.cca2))}}function Se(n,t){if(n&1&&(o(0,"tr")(1,"td",5),a(2),r()()),n&2){let e=w();c(2),F(" ",e.errorMesage()," ")}}function we(n,t){n&1&&(o(0,"tr")(1,"td",5),a(2," Not found results "),r()())}function _e(n,t){n&1&&(o(0,"tr")(1,"td",5),a(2," Buscando Paises "),r()())}var _=class n{countries=h.required();errorMesage=h();isLoading=h(!1);isEmpty=h(!1);static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["country-list"]],inputs:{countries:[1,"countries"],errorMesage:[1,"errorMesage"],isLoading:[1,"isLoading"],isEmpty:[1,"isEmpty"]},decls:23,vars:3,consts:[[1,"mt-5"],[1,"table","table-md","mt-2","w-full"],[1,"w-10",3,"src","alt"],[1,"badge","badge-secondary"],["href","","routerLinkActive","router-link-active",1,"link-primary",3,"routerLink"],["colspan","8",1,"text-center"]],template:function(e,i){e&1&&(o(0,"section",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th"),a(5,"#"),r(),o(6,"th"),a(7,"Icon"),r(),o(8,"th"),a(9,"Flag"),r(),o(10,"th"),a(11,"Name"),r(),o(12,"th"),a(13,"Capital"),r(),o(14,"th"),a(15,"Population"),r(),s(16,"th"),r()(),o(17,"tbody"),le(18,xe,18,12,"tr",null,be),S(20,Se,3,1,"tr")(21,we,3,0,"tr")(22,_e,3,0,"tr"),r()()()),e&2&&(c(18),ue(i.countries()),c(2),d(i.errorMesage()?20:-1),c(),d(i.countries().length===0&&!i.isLoading()?21:-1),c(),d(i.isLoading()?22:-1))},dependencies:[O,z],encapsulation:2})};var D=class{static mapRestCountrytoCountry(t){return{capital:t.capital.join(","),cca2:t.cca2,flag:t.flag,flagSvg:t.flags.svg,name:t.name.common??"No Eng Name",population:t.population,region:t.region,subRegion:t.subregion}}static mapRestCountryArrayToCountryArray(t){return t.map(this.mapRestCountrytoCountry)}};var ne="https://restcountries.com/v3.1",E=class n{http=p(fe);searchByCapital(t){return t=t.toLowerCase(),this.http.get(`${ne}/capital/${t}`).pipe(P(e=>D.mapRestCountryArrayToCountryArray(e)),q(e=>(console.log(e),N(()=>new Error(`Not found countries with this query ${t}`)))))}searchByCountry(t){let e=`${ne}/name/${t}`;return t=t.toLowerCase(),this.http.get(e).pipe(P(i=>D.mapRestCountryArrayToCountryArray(i)),ie(2e3),q(i=>(console.log(i),N(()=>new Error(`Not found countries with this query ${t}`)))))}searchCountryByAlphaCode(t){let e=`${ne}/alpha/${t}`;return this.http.get(e).pipe(P(i=>D.mapRestCountryArrayToCountryArray(i)),P(i=>i.at(0)),q(i=>(console.log("Error fetching ",i),N(()=>new Error(`No se pudo obtener pa\xEDses con ese c\xF3digo ${t}`)))))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ee=()=>[];function Re(n,t){n&1&&(o(0,"div",1),s(1,"span",3),r())}function Te(n,t){if(n&1&&s(0,"country-list",2),n&2){let e,i,u=w();m("countries",(e=u.countryResource.value())!==null&&e!==void 0?e:L(4,Ee))("errorMesage",u.countryResource.error())("isEmpty",((i=u.countryResource.value())==null?null:i.length)===0)("isLoading",u.countryResource.isLoading())}}var $=class n{countyService=p(E);query=k("");countryResource=T({request:()=>({query:this.query()}),loader:({request:t})=>t.query?this.countyService.searchByCapital(t.query):B([])});static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["app-by-capital-page"]],decls:3,vars:1,consts:[["placeholder","Search by capital",3,"value"],[1,"flex","justify-center","items-center","my-10"],[3,"countries","errorMesage","isEmpty","isLoading"],[1,"loading","loading-spinner","loading-lg","text-primary","scale-150"]],template:function(e,i){e&1&&(o(0,"country-search-input",0),b("value",function(f){return i.query.set(f)}),r(),S(1,Re,2,0,"div",1)(2,Te,1,5,"country-list",2)),e&2&&(c(),d(i.countryResource.isLoading()?1:2))},dependencies:[M,_],encapsulation:2})};var H=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["country-top-menu"]],decls:17,vars:0,consts:[[1,"p-4","w-full"],[1,"menu","bg-base-200","sm:menu-horizontal","rounded-box"],["routerLink","by-capital","routerLinkActive","btn-primary",1,"btn"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 20 20"],["fill","currentColor","d","M7.712 21v-1.538l2.846-2.004v-4.331L3 16.173v-1.961l7.558-5.331V4.442q0-.594.424-1.018T12 3t1.018.424t.424 1.018v4.439L21 14.21v1.962l-7.558-3.046v4.33l2.827 2.005V21L12 19.692z"],["routerLink","by-country","routerLinkActive","btn-primary",1,"btn"],["fill","currentColor","d","m15 19.923l-6-2.1l-3.958 1.53q-.384.143-.713-.083T4 18.634V6.404q0-.268.13-.489t.378-.307L9 4.077l6 2.1l3.958-1.53q.384-.143.713.054t.329.588v12.384q0 .287-.159.498q-.158.212-.426.298zm-.5-1.22v-11.7l-5-1.745v11.7z"],["routerLink","by-region","routerLinkActive","btn-primary",1,"btn"],["fill","currentColor","d","M4 20V4h16v16zm1-1h14V5H5zm7-2.25q1.92-1.624 2.86-3.02q.94-1.397.94-2.585q0-1.803-1.142-2.849T12 7.25T9.342 8.298T8.2 11.143q0 1.186.947 2.583T12 16.75m-.003-4.538q-.445 0-.75-.308q-.305-.307-.305-.753q0-.445.308-.75t.753-.305t.75.308t.305.753t-.308.75t-.753.305M5 19V5z"]],template:function(e,i){e&1&&(o(0,"nav",0)(1,"ul",1)(2,"li")(3,"a",2),g(),o(4,"svg",3),s(5,"path",4),r(),a(6," By Capital "),r()(),v(),o(7,"li")(8,"a",5),g(),o(9,"svg",3),s(10,"path",6),r(),a(11," By Country "),r()(),v(),o(12,"li")(13,"a",7),g(),o(14,"svg",3),s(15,"path",8),r(),a(16," By Region "),r()()()())},dependencies:[z,ve],encapsulation:2})};var U=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["app-country-layout"]],decls:3,vars:0,consts:[[1,"px-4"]],template:function(e,i){e&1&&(s(0,"country-top-menu"),o(1,"section",0),s(2,"router-outlet"),r())},dependencies:[Ce,H],encapsulation:2})};var ke=()=>[];function Le(n,t){n&1&&(o(0,"div",1),s(1,"span",3),r())}function Me(n,t){if(n&1&&s(0,"country-list",2),n&2){let e,i,u=w();m("countries",(e=u.countryResource.value())!==null&&e!==void 0?e:L(4,ke))("errorMesage",u.countryResource.error())("isEmpty",((i=u.countryResource.value())==null?null:i.length)===0)("isLoading",u.countryResource.isLoading())}}var G=class n{countyService=p(E);query=k("");countryResource=T({request:()=>({query:this.query()}),loader:({request:t})=>t.query?this.countyService.searchByCountry(t.query):B([])});static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["app-by-country-page"]],decls:3,vars:1,consts:[["placeholder","Search by country",3,"value"],[1,"flex","justify-center","items-center","my-10"],[3,"countries","errorMesage","isEmpty","isLoading"],[1,"loading","loading-spinner","loading-lg","text-primary","scale-150"]],template:function(e,i){e&1&&(o(0,"country-search-input",0),b("value",function(f){return i.query.set(f)}),r(),S(1,Le,2,0,"div",1)(2,Me,1,5,"country-list",2)),e&2&&(c(),d(i.countryResource.isLoading()?1:2))},dependencies:[M,_],encapsulation:2})};var De=()=>[],Y=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["app-by-region-page"]],decls:1,vars:2,consts:[[3,"countries"]],template:function(e,i){e&1&&s(0,"country-list",0),e&2&&m("countries",L(1,De))},dependencies:[_],encapsulation:2})};var J=class n{location=p(ye);goBack(){this.location.back()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["app-not-found"]],decls:7,vars:0,consts:[[1,"flex","flex-col","items-center","justify-center","mt-10"],["xmlns","http://www.w3.org/2000/svg","width","75","height","75","viewBox","0 0 24 24"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","m9 22l3-3m3-3l-3 3m0 0l-3-3m3 3l3 3m5-4.393c1.494-.585 3-1.918 3-4.607c0-4-3.333-5-5-5c0-2 0-6-6-6S6 6 6 8c-1.667 0-5 1-5 5c0 2.689 1.506 4.022 3 4.607"],["href","",1,"link-primary",3,"click"]],template:function(e,i){e&1&&(o(0,"section",0),g(),o(1,"svg",1),s(2,"path",2),r(),v(),o(3,"h1"),a(4,"Country Not found"),r(),o(5,"button",3),b("click",function(){return i.goBack()}),a(6,"Back"),r()())},encapsulation:2})};var K=class n{country=h.required();currentYear=te(()=>new Date().getFullYear());static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["country-information"]],inputs:{country:[1,"country"]},decls:37,vars:10,consts:[[1,"stats","shadow","mx-5"],[1,"stat"],[1,"stat-figure","text-secondary"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 15 16"],["fill","currentColor","d","M7.5 7a2.5 2.5 0 0 1 0-5a2.5 2.5 0 0 1 0 5m0-4C6.67 3 6 3.67 6 4.5S6.67 6 7.5 6S9 5.33 9 4.5S8.33 3 7.5 3"],["fill","currentColor","d","M13.5 11c-.28 0-.5-.22-.5-.5s.22-.5.5-.5s.5-.22.5-.5A2.5 2.5 0 0 0 11.5 7h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5c.83 0 1.5-.67 1.5-1.5S11.33 3 10.5 3c-.28 0-.5-.22-.5-.5s.22-.5.5-.5A2.5 2.5 0 0 1 13 4.5c0 .62-.22 1.18-.6 1.62c1.49.4 2.6 1.76 2.6 3.38c0 .83-.67 1.5-1.5 1.5m-12 0C.67 11 0 10.33 0 9.5c0-1.62 1.1-2.98 2.6-3.38c-.37-.44-.6-1-.6-1.62A2.5 2.5 0 0 1 4.5 2c.28 0 .5.22.5.5s-.22.5-.5.5C3.67 3 3 3.67 3 4.5S3.67 6 4.5 6c.28 0 .5.22.5.5s-.22.5-.5.5h-1A2.5 2.5 0 0 0 1 9.5c0 .28.22.5.5.5s.5.22.5.5s-.22.5-.5.5m9 3h-6c-.83 0-1.5-.67-1.5-1.5v-1C3 9.57 4.57 8 6.5 8h2c1.93 0 3.5 1.57 3.5 3.5v1c0 .83-.67 1.5-1.5 1.5m-4-5A2.5 2.5 0 0 0 4 11.5v1c0 .28.22.5.5.5h6c.28 0 .5-.22.5-.5v-1A2.5 2.5 0 0 0 8.5 9z"],[1,"stat-title"],[1,"stat-value"],[1,"stat-desc"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 21v-5.313m0 0c5.818-4.55 10.182 4.55 16 0V4.313c-5.818 4.55-10.182-4.55-16 0z"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 16 16"],["fill","currentColor","d","M6.5 2.309v8.69a.5.5 0 0 1-.032.176L9.5 12.691V3.809zm-1-.04L2 3.825v8.906l3.527-1.568a.5.5 0 0 1-.027-.164zm.274-1.216a.5.5 0 0 1 .471.01l3.768 1.884l4.284-1.904A.5.5 0 0 1 15 1.5v10a.5.5 0 0 1-.297.457l-4.5 2a.5.5 0 0 1-.427-.01l-3.789-1.894l-4.283 1.904a.5.5 0 0 1-.703-.457v-10a.5.5 0 0 1 .297-.457zM10.5 3.825v8.906l3.5-1.556V2.27z"],[1,"flex","items-center","justify-center","mt-20"],[1,"card","bg-base-100","w-96","shadow-sm","flex","items-center","justify-center"],[3,"src","alt"]],template:function(e,i){e&1&&(o(0,"section",0)(1,"div",1)(2,"div",2),g(),o(3,"svg",3),s(4,"path",4)(5,"path",5),r()(),v(),o(6,"div",6),a(7,"Poblation"),r(),o(8,"div",7),a(9),A(10,"number"),r(),o(11,"div",8),a(12),r()(),o(13,"div",1)(14,"div",2),g(),o(15,"svg",9),s(16,"path",10),r()(),v(),o(17,"div",6),a(18,"Name"),r(),o(19,"div",7),a(20),r(),o(21,"div",8),a(22),r()(),o(23,"div",1)(24,"div",2),g(),o(25,"svg",11),s(26,"path",12),r()(),v(),o(27,"div",6),a(28,"Sub Region"),r(),o(29,"div",7),a(30),r(),o(31,"div",8),a(32),r()()(),o(33,"div",13)(34,"section",14)(35,"figure"),s(36,"img",15),r()()()),e&2&&(c(9),y(V(10,8,i.country().population)),c(3),y(i.currentYear()),c(8),y(i.country().name),c(2),y(i.country().region),c(8),y(i.country().subRegion),c(2),y(i.country().region),c(4),m("src",i.country().flagSvg,j)("alt",i.country().name))},dependencies:[O],encapsulation:2})};function Ie(n,t){n&1&&s(0,"app-not-found")}function Pe(n,t){n&1&&(o(0,"h1",0),a(1,"Cargando..."),r())}function Be(n,t){if(n&1&&s(0,"country-information",1),n&2){let e=w();m("country",e.countryResource.value())}}var Q=class n{countryCode=p(ge).snapshot.params.code;countryService=p(E);countryResource=T({request:()=>({code:this.countryCode}),loader:({request:t})=>this.countryService.searchCountryByAlphaCode(t.code)});static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["app-country-page"]],decls:3,vars:3,consts:[[1,"text-3xl"],[3,"country"]],template:function(e,i){e&1&&S(0,Ie,1,0,"app-not-found")(1,Pe,2,0,"h1",0)(2,Be,1,1,"country-information",1),e&2&&(d(i.countryResource.error()?0:-1),c(),d(i.countryResource.isLoading()?1:-1),c(),d(i.countryResource.hasValue()?2:-1))},dependencies:[J,K],encapsulation:2})};var Ne=[{path:"",component:U,children:[{path:"by-capital",component:$},{path:"by-country",component:G},{path:"by-region",component:Y},{path:"by/:code",component:Q},{path:"**",redirectTo:"by-capital"}]}],an=Ne;export{Ne as countryRoutes,an as default};
